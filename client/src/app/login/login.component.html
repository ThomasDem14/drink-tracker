<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            @if (authenticationService.loading()) {
                <p class="loading">
                    <fa-icon [icon]="loadingIcon" animation="spin"></fa-icon>
                </p>
            } @else {
                <form (ngSubmit)="submit($event)">
                    <h1>Connexion</h1>

                    @if (error()) {
                        <div class="alert alert-danger">Connexion échouée</div>
                    }

                    <div class="form-group mt-1">
                        <label for="email">Adresse e-mail</label>
                        <input type="email"
                               class="form-control"
                               [disabled]="authenticationService.loggingIn()"
                               id="email"
                               name="email"
                               [ngModel]="email()"
                               (ngModelChange)="email.set($event)"
                               required>
                    </div>

                    <div class="form-group mt-1">
                        <label for="password">Mot de passe</label>
                        <input type="password"
                               class="form-control"
                               [disabled]="authenticationService.loggingIn()"
                               id="password"
                               name="password"
                               [ngModel]="password()"
                               (ngModelChange)="password.set($event)"
                               required>
                    </div>

                    <button type="submit"
                            class="btn btn-primary mt-1"
                            [disabled]="authenticationService.loggingIn()">Connexion</button>
                </form>
            }
        </div>
    </div>
</div>

